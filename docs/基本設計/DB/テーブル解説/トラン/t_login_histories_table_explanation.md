# `t_login_histories` テーブル構成の解説

このテーブルは、ユーザーのログイン履歴を記録する監査目的のトランザクションテーブルです。

| カラム名       | 型          | 説明                                                   | NULL許容 |
|----------------|-------------|----------------------------------------------------------|----------|
| `id`           | `UUID`      | ログイン履歴レコードの識別子。主キー。                 | ❌       |
| `user_id`      | `UUID`      | ログインしたユーザーのID。`m_users.id` を参照。         | ❌       |
| `login_at`     | `TIMESTAMP` | ログイン時刻。自動で現在時刻が挿入されます。           | ⭕（DEFAULTあり） |
| `ip_address`   | `INET`      | ログイン時のIPアドレス。                               | ⭕       |
| `user_agent`   | `TEXT`      | ブラウザや端末の情報（User-Agent ヘッダ）。            | ⭕       |

---

## 備考

- セキュリティ監査や不正アクセスの検出に利用されます。
- 同一ユーザーのアクセス傾向（時間帯やIPの変化など）を追跡できます。
- `user_agent` により使用ブラウザやデバイス情報の取得が可能。
- ログイン履歴が多くなるシステムでは、一定期間でのログのアーカイブも検討が必要です。
